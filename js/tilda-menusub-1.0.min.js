function t_menusub_init(t){var e=document.querySelectorAll("#rec"+t+" .t-menusub"),n=(Array.prototype.forEach.call(e,(function(e){var n,u;(e=e.getAttribute("data-submenu-hook"))&&(n=!1,u=document.querySelectorAll("#rec"+t+" a.t-menu__link-item"),Array.prototype.forEach.call(u,(function(t){t.getAttribute("data-menu-submenu-hook")&&(n=!0)})),u=n?document.querySelectorAll('a[data-menu-submenu-hook="'+e+'"]'):document.querySelectorAll('a[href="'+e+'"]'),Array.prototype.forEach.call(u,(function(e){e.classList.add("t-menusub__target-link"),e.setAttribute("data-tooltip-menu-id",t)})),t_menusub_add_arrow(t,u,e),t_menusub_set_up_menu(t,u,e),t_menusub_highlight(),t_menusub_checkAnchorLinks(t))})),window.isMobile?"orientationchange":"resize");window.addEventListener(n,(function(){Array.prototype.forEach.call(e,(function(t){t=t.querySelectorAll(".t-menusub__menu"),Array.prototype.forEach.call(t,(function(t){t_menusub_hide_submenu(t)}))}))}))}function t_menusub_set_up_menu(t,e,n){n=document.querySelectorAll("#rec"+t+' .t-menusub[data-submenu-hook="'+n+'"] .t-menusub__menu'),Array.prototype.forEach.call(n,(function(n){var u=n.querySelectorAll(".t-menusub__content");(window.isMobile?t_menusub_set_up_menu_mobile:t_menusub_set_up_menu_desktop)(t,e,n),window.addEventListener("scroll",t_throttle((function(){Array.prototype.forEach.call(u,(function(t){t.addEventListener("mouseleave",(function(){window.isMobile||n.classList.contains("t-menusub__menu_show")&&t_menusub_hide_submenu(n)}))}))})))}))}function t_menusub_open_inME401(t){var e,n=t.querySelector(".t280__menu__wrapper");n&&!n.classList.contains("t280__menu_static")&&(n=t.querySelector(".t280__menu"),e=t.querySelector(".t280__bottom"),t=t.querySelector(".t280__menu__wrapper"),n&&(n.style.transition="none"),e&&(e.style.transition="none"),t&&t.classList.add("t280__menu_static"))}function t_menusub_close_inME401(t){var e=t.querySelector(".t280__menu__wrapper");e&&e.classList.contains("t280__menu_static")&&(e=t.querySelector(".t280__menu__wrapper"))&&e.classList.remove("t280__menu_static")}function t_menusub_set_up_menu_mobile(t,e,n){var u=document.querySelector("#rec"+t+" .t-menusub"),o=u?u.getAttribute("data-submenu-margin"):"";Array.prototype.forEach.call(e,(function(e){e.addEventListener("click",(function(u){var s,i;u.preventDefault(),980<window.innerWidth&&(u=document.querySelectorAll("#rec"+t+" .t-menusub__menu"),Array.prototype.forEach.call(u,(function(t){t_menusub_hide_submenu(t)}))),n.classList.contains("t-menusub__menu_show")?t_menusub_hide_submenu(n):(t_menusub_show(e,n,o),(u=e.closest(".t280"))&&(i=u.querySelector(".t280__menu__wrapper"),s=t_menusub_is_mobile_ME401(u),i=i?i.getAttribute("data-submenu-static"):"",t_menusub_is_static_ME401(u),"n"===i&&u&&s&&t_menusub_open_inME401(u)))}))})),document.addEventListener("click",(function(e){var u=e.target.classList.contains("t-menusub__menu")||e.target.closest(".t-menusub__menu"),o=e.target.classList.contains("t-menusub__target-link")||e.target.closest(".t-menusub__target-link");e.target.classList.contains("t794__tm-link")||e.target.classList.contains("t966__tm-link")||(!o||(e.target.classList.contains("t-menusub__target-link")?e.target:e.target.closest(".t-menusub__target-link")).getAttribute("data-tooltip-menu-id")!==t&&n.classList.contains("t-menusub__menu_show")&&t_menusub_hide_submenu(n),u||o||!n.classList.contains("t-menusub__menu_show")||t_menusub_hide_submenu(n))}))}function t_menusub_set_up_menu_desktop(t,e,n){t=document.querySelectorAll("#rec"+t+" .t-menusub"),Array.prototype.forEach.call(t,(function(t){var u,o=t.getAttribute("data-submenu-margin");Array.prototype.forEach.call(e,(function(t){t.addEventListener("mouseover",(function(){t_showMenuOnHover(t,u,n,o)})),t.addEventListener("mouseout",(function(){u=setTimeout((function(){t_menusub_hide_submenu(n)}),300)})),t.addEventListener("click",(function(t){t.preventDefault()})),t.addEventListener("auxclick",(function(t){t.preventDefault()}))})),n.addEventListener("mouseover",(function(){t_showMenuOnHover(n,u,n,o)})),n.addEventListener("mouseout",(function(){u=setTimeout((function(){t_menusub_hide_submenu(n)}),300)}))}))}function t_showMenuOnHover(t,e,n,u){t.classList.contains("t-menusub__menu")&&!t.classList.contains("t-menusub__menu_show")||(clearTimeout(e),t.classList.contains("t-menusub__menu")&&t.classList.contains("t-menusub__menu_show")||t_menusub_show(t,n,u))}function t_menusub_show(t,e,n){var u=t.offsetHeight,o=t.offsetWidth,s=0,i="0",r=(t&&(s=parseInt(t.style.marginLeft)||0,i=window.getComputedStyle(t).getPropertyValue("margin-top")||"0"),window.innerHeight),a=window.innerWidth,c=window.pageYOffset,l=(n=n?parseInt(n,10)+10:0,i=t.offsetTop-parseInt(i,10)+u+n,t_menusub__getLeftRelativePos(t)),_=(e.style.display="block",e.offsetHeight),m=e.offsetWidth;c+r<i+_?(i=Math.max(i-_-u-2*n,c),e.classList.remove("t-menusub__menu_bottom"),e.classList.add("t-menusub__menu_top")):(e.classList.remove("t-menusub__menu_top"),e.classList.add("t-menusub__menu_bottom")),window.innerWidth<=980&&(i=0),r=t.getBoundingClientRect().left+o/2-20-e.getBoundingClientRect().left,l+m/2<a?(l=l+(o-m)/2+s)<0?(l=10,e.classList.add("t-menusub__menu-custompos"),e.style.setProperty("--custom-pos",r+"px")):e.classList.remove("t-menusub__menu-custompos"):l=a-m-10,e.style.right="",e.style.left=l+"px",e.style.top=i+"px",e.offsetHeight,e.classList.add("t-menusub__menu_show"),t.classList.add("t-menusub__target-link_active"),e.getBoundingClientRect().right>window.innerWidth&&(e.style.left="",e.style.right="0",e.classList.add("t-menusub__menu-custompos"),e.style.setProperty("--custom-pos",r+"px"))}function t_menusub__getLeftRelativePos(t){var e=0;if("fixed"===window.getComputedStyle(t).getPropertyValue("position"))n=t.getBoundingClientRect().left;else{for(var n=t.getClientRects().length?t.getBoundingClientRect().left:0,u=t.offsetParent;u&&1===u.nodeType&&"static"===window.getComputedStyle(u).getPropertyValue("position");)u=u.offsetParent;u&&u!==t&&1===u.nodeType&&(e=u.getClientRects().length?u.getBoundingClientRect().left:0)}return n-e}function t_menusub_hide_submenu(t){var e;if(!(e=((e=document.querySelector(".t-menusub__target-link_active"))&&e.classList.remove("t-menusub__target-link_active"),t.style.display="",t.style.left="",t.style.top="",t.classList.remove("t-menusub__menu_show"),t.closest(".t280"))))return!1;t=t_menusub_is_mobile_ME401(e);var n=(n=e.querySelector(".t280__menu__wrapper"))?n.getAttribute("data-submenu-static"):"",u=e.querySelectorAll(".t280__menu .t-menusub__menu_show");"n"===n&&window.isMobile&&t&&!u.length&&t_menusub_close_inME401(e)}function t_menusub_add_arrow(t,e,n){(t=document.querySelector("#rec"+t+' .t-menusub[data-submenu-hook="'+n+'"]'))&&t.getAttribute("data-add-submenu-arrow")&&Array.prototype.forEach.call(e,(function(t){t.insertAdjacentHTML("beforeend",'<div class="t-menusub__arrow"></div>')}))}function t_menusub_highlight(){var t='.t-menusub__list-item a[href="'+(t=window.location.href)+'"], .t-menusub__list-item a[href="'+t+'/"], .t-menusub__list-item a[href="'+(e=""===(e="/"===(e=window.location.pathname).charAt(0)?e.slice(1):e)?"/":e)+'"], .t-menusub__list-item a[href="/'+e+'"], .t-menusub__list-item a[href="'+e+'/"], .t-menusub__list-item a[href="/'+e+'/"]',e=document.querySelectorAll(t);Array.prototype.forEach.call(e,(function(t){t.classList.add("t-active")}))}function t_menusub_is_static_ME401(t){!t||(t=t.querySelector(".t280__menu__wrapper"))&&t.classList.contains("t280__menu_static")&&t.setAttribute("data-submenu-static","n")}function t_menusub_is_mobile_ME401(t){var e=t.querySelector(".t280__menu"),n=t.querySelector(".t280__bottom");t=t.querySelector(".t280__container"),e=e?e.offsetHeight:0,n=n?n.offsetHeight:0,t=t?t.offsetHeight:0;return window.innerHeight-n-t-40<e}function t_menusub_checkAnchorLinks(t){960<=window.innerWidth&&(t=document.querySelectorAll("#rec"+t+' a:not(.tooltipstered)[href*="#"].t-menusub__link-item')).length&&t_menusub_catchScroll(t)}function t_menusub_catchScroll(t){var e,n,u=null,o=[],s=[],i=[];Array.prototype.forEach.call(t,(function(t){i.push(t)})),i.reverse(),Array.prototype.forEach.call(i,(function(t){var e=t_menusub_getSectionByHref(t);e&&e.length&&Array.prototype.forEach.call(e,(function(e){e.id&&o.push(e),s[e.id]=t})),t.addEventListener("click",(function(){var e;t.classList.contains("tooltipstered")||(t.classList.remove("t-active"),(e=t_menusub_getSectionByHref(t))&&e.length&&Array.prototype.forEach.call(e,(function(t){s[t.id].classList.add("t-active"),u=t.id})))}))})),t_menusub_highlightNavLinks(i,o,s,u),window.addEventListener("resize",t_throttle((function(){t_menusub_updateSectionsOffsets(o)}))),setTimeout((function(){t_menusub_updateSectionsOffsets(o),t_menusub_highlightNavLinks(i,o,s,u)}),1e3),window.addEventListener("scroll",t_throttle((function(){var t=(new Date).getTime();e&&t<e+100?(clearTimeout(n),n=setTimeout((function(){e=t,u=t_menusub_highlightNavLinks(i,o,s,u)}),100-(t-e))):(e=t,u=t_menusub_highlightNavLinks(i,o,s,u))})))}function t_menusub_getSectionByHref(t){t=t.getAttribute("href");var e,n="",u=(t=(t&&(n=t.replace(/\s+/g,"").substring(1)),document.querySelectorAll('.r[id="'+n+'"]')),document.querySelectorAll('.r[data-record-type="215"]'));return u.length&&(e=0,Array.prototype.forEach.call(u,(function(t){t.querySelector('a[name="'+n+'"]')&&e++}))),1===t.length?t:1===u.length&&e?u:void 0}function t_menusub_highlightNavLinks(t,e,n,u){var o=window.pageYOffset,s=u,i=0;return e.length&&(i=e[e.length-1].getAttribute("data-offset-top")),e.length&&null===u&&o+300<+i?(Array.prototype.forEach.call(t,(function(t){t.classList.remove("t-active")})),null):(Array.prototype.forEach.call(e,(function(i){var r=i.getAttribute("data-offset-top"),a=(i=i.id,n[i]),c=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight);return(r<=o+300||e[0].id===i&&o>=c-window.innerHeight)&&(null!==u||a.classList.contains("t-active")?null!==u&&i===u&&(s=null):(Array.prototype.forEach.call(t,(function(t){t.classList.remove("t-active")})),a.classList.add("t-active"))),!1})),s)}function t_menusub_updateSectionsOffsets(t){Array.prototype.forEach.call(t,(function(t){t.setAttribute("data-offset-top",t.offsetTop)}))}Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}return null});